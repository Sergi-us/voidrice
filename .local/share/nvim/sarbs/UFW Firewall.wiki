= Firewall Konfiguration =
== Installation und Konfiguration von UFW ==

UFW ist ein Terminal frontend für IP-Tabels
UFW installieren (auf SARBS bereits instaliert):
{{{
sudo pacman -S ufw
}}}
UFW aktivieren und Standardregeln setzen:
{{{
sudo ufw default deny incoming
sudo ufw default allow outgoing
}}}
Erlaube SSH-Verbindungen OPTIONAL (Port 22):
{{{
sudo ufw allow 22/tcp
}}}
Erlaube HTTP-Verbindungen (Port 80):
{{{
sudo ufw allow 80/tcp
}}}
Erlaube HTTPS-Verbindungen (Port 443):
{{{
sudo ufw allow 443/tcp
}}}
UFW aktivieren:
{{{
sudo ufw enable
sudo ufw status
}}}
Fehlerbehebung für UFW

UFW deaktivieren und reaktivieren:
{{{
sudo ufw disable
sudo ufw enable
sudo ufw status
}}}

== Monitoring mit logwatch ==
TODO unnötig
logwatch installieren:
{{{
sudo pacman -S logwatch
}}}
logwatch konfigurieren:

{{{
sudo mkdir /etc/logwatch/conf/
sudo cp /usr/share/logwatch/default.conf/logwatch.conf /etc/logwatch/conf/logwatch.conf
}}}
logwatch ausführen:
{{{
sudo logwatch --output file --format text --range today --filename /var/log/logwatch.log
}}}
Automatisches tägliches Logwatch-Reporting einrichten:

    Erstelle einen cron job:

    sh

sudo crontab -e

Füge folgende Zeile hinzu, um logwatch täglich um 6 Uhr morgens auszuführen:

sh

        0 6 * * * /usr/sbin/logwatch --output mail --mailto deine-email@domain.de --detail low

Optional: GUFW installieren (grafische Oberfläche für UFW)

    gufw installieren:

    sh

sudo pacman -S gufw

gufw starten:

sh

    gufw

Zusammenfassung der wichtigsten Befehle

sh

# UFW installieren und konfigurieren
sudo pacman -S ufw
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow 22/tcp  # SSH
sudo ufw allow 80/tcp  # HTTP
sudo ufw allow 443/tcp  # HTTPS
sudo ufw enable

# Fehlerbehebung für UFW
sudo pacman -S iptables
sudo modprobe ip_tables
sudo modprobe ip6_tables
sudo iptables -L
sudo pacman -S iptables-nft
sudo update-alternatives --set iptables /usr/sbin/iptables-nft
sudo update-alternatives --set ip6tables /usr/sbin/ip6tables-nft
sudo ufw disable
sudo ufw enable
sudo ufw allow 22/tcp

# Monitoring mit logwatch
sudo pacman -S logwatch
sudo mkdir /etc/logwatch/conf/
sudo cp /usr/share/logwatch/default.conf/logwatch.conf /etc/logwatch/conf/logwatch.conf
sudo logwatch --output file --format text --range today --filename /var/log/logwatch.log
sudo crontab -e
# Füge folgende Zeile hinzu:
0 6 * * * /usr/sbin/logwatch --output mail --mailto deine-email@domain.de --detail low

# Optional: GUFW installieren
sudo pacman -S gufw
gufw

Diese Befehle und Schritte sollten dir helfen, deine UFW-Firewall sicher zu konfigurieren und ein grundlegendes Monitoring mit logwatch einzurichten. Wenn du weitere Fragen oder Probleme hast, lass es mich wissen!
